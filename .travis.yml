language: node_js
node_js:
- '0.10'
notifications:
  email:
    recipients:
    - giedomak@gmail.com
    - jmsumrall@gmail.com
    on_success: change
    on_failure: change
before_script:
- gem install sass --version "=3.2.12"
- gem install compass --version "=0.12.2"
- npm install -g bower grunt-cli
- bower install
- grunt build
- sudo apt-get update
- sudo apt-get install ncftp -y
env:
  global:
  - secure: NRUjETcXbL/XswtYHr9vNaaILfLVouJaqlRqZp7DbKJyMPFAdbC9tIGWVMetp+8Qe3bU8/UPHa747bHiXrJ6b4IuJoV4yDAyCY/YxJu9TMP7+A7od0Ezr+jdDeshfx4i3layR8+e90e77cSAxzYFWkXPGj1Rg6gVbQn5tYUAkQg=
  - secure: VbJJGzD8muLULBbJeSVFfUrkujE60579/oj+wNa6C33aCyvdWlKA4ZdB0zT+APAeizaPacB68K5rTuCtJGaf14f7dIb82+X+tVAljcWNCUrgEcSYXAbcaPrZDZ8EMq1YyDRCzZVChZlJYC7O7i0Ht7qRvWY6uIi6I7LsPZPUiPo=
after_script:
- chmod -R 755 ./dist/*
- ncftpput -R -v -m -U 755 -d -u $FTP_USER -p $FTP_PASSWORD abeerfor.me /app ./dist/*
